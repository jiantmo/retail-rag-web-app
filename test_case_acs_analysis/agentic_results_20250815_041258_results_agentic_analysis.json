{
  "file_info": {
    "file_path": ".\\test_case_acs_analysis\\agentic_results_20250815_041258_results.jsonl",
    "file_size_mb": 8.53,
    "total_lines": 1001,
    "valid_results": 1001,
    "parsing_success_rate": 100.0
  },
  "search_performance": {
    "total_searches": 1001,
    "api_successful_calls": 1001,
    "search_execution_successful": 131,
    "throttled_requests": 870,
    "other_errors": 0,
    "api_failed_calls": 0,
    "api_success_rate": 100.0,
    "search_execution_success_rate": 13.086913086913087,
    "throttling_rate": 86.91308691308691,
    "avg_response_time_ms": 4672.002545127144,
    "median_response_time_ms": 4739.425420761108,
    "p95_response_time_ms": 5014.883995056152,
    "p99_response_time_ms": 6495.421648025513,
    "min_response_time_ms": 1464.80393409729,
    "max_response_time_ms": 10244.865894317627,
    "status_code_distribution": {
      "200": 1001
    },
    "error_analysis": {
      "throttled_examples": [
        "Error processing search request: Agentic retrieval failed: TooManyRequests - {\"error\":{\"code\":\"\",\"message\":\"Could not complete model action. The model endpoint returned status code '429' (TooManyReque",
        "Error processing search request: Agentic retrieval failed: TooManyRequests - {\"error\":{\"code\":\"\",\"message\":\"Could not complete model action. The model endpoint returned status code '429' (TooManyReque",
        "Error processing search request: Agentic retrieval failed: TooManyRequests - {\"error\":{\"code\":\"\",\"message\":\"Could not complete model action. The model endpoint returned status code '429' (TooManyReque"
      ],
      "other_error_examples": []
    }
  },
  "relevance_metrics": {
    "precision_at_k": {
      "P@1": 0.5801526717557252,
      "P@3": 0.544529262086514,
      "P@5": 0.5206106870229008,
      "P@10": 0.48880407124681935
    },
    "recall_at_k": {
      "R@1": 0.11031444170757147,
      "R@3": 0.2654216966239867,
      "R@5": 0.38712291737100896,
      "R@10": 0.5958440414547285
    },
    "f1_score_at_k": {
      "F1@1": 0.1657541630150521,
      "F1@3": 0.3159007250427145,
      "F1@5": 0.40074823493808204,
      "F1@10": 0.4988815559382319
    },
    "ndcg_at_k": {
      "NDCG@1": 0.6997455470737913,
      "NDCG@3": 0.6856826128782235,
      "NDCG@5": 0.6955169087987849,
      "NDCG@10": 0.7214039422709452
    },
    "map_score": 0.5826108409089598,
    "mrr_score": 0.5984308736217133,
    "relevance_analysis": {
      "total_queries_for_relevance_calculation": 131,
      "total_api_calls_made": 1001,
      "throttled_requests_excluded": 870,
      "other_errors_excluded": 0,
      "total_relevant_items_found": 654,
      "exact_name_matches": 91,
      "total_product_items_extracted": 1389,
      "average_relevance_per_successful_query": 4.99236641221374,
      "average_products_per_successful_query": 10.603053435114504,
      "exclusion_summary": {
        "excluded_for_throttling": 870,
        "excluded_for_other_errors": 0,
        "included_in_relevance_metrics": 131,
        "exclusion_rate": 86.91308691308691
      }
    },
    "question_type_breakdown": {
      "Category": {
        "precision_at_k": {
          "P@1": 1.0,
          "P@3": 1.0,
          "P@5": 1.0,
          "P@10": 1.0
        },
        "recall_at_k": {
          "R@1": 0.09543013570791349,
          "R@3": 0.28629040712374043,
          "R@5": 0.47715067853956744,
          "R@10": 0.8843425093425094
        },
        "f1_score_at_k": {
          "F1@1": 0.173596803825562,
          "F1@3": 0.44158983240510585,
          "F1@5": 0.6394982694432298,
          "F1@10": 0.9331362142956345
        },
        "ndcg_at_k": {
          "NDCG@1": 1.0,
          "NDCG@3": 1.0,
          "NDCG@5": 1.0,
          "NDCG@10": 1.0
        },
        "map_score": 1.0,
        "mrr_score": 1.0,
        "query_count": 27,
        "relevance_analysis": {
          "total_queries_analyzed": 27,
          "total_relevant_items_found": 297,
          "exact_name_matches": 0,
          "average_relevance_per_query": 11.0
        }
      },
      "Category + Price range": {
        "precision_at_k": {
          "P@1": 0.72,
          "P@3": 0.5866666666666667,
          "P@5": 0.504,
          "P@10": 0.3728888888888889
        },
        "recall_at_k": {
          "R@1": 0.22576190476190475,
          "R@3": 0.5006190476190476,
          "R@5": 0.6737619047619048,
          "R@10": 0.8742857142857143
        },
        "f1_score_at_k": {
          "F1@1": 0.3205079365079365,
          "F1@3": 0.4906435786435786,
          "F1@5": 0.5328356088356089,
          "F1@10": 0.49456530397706866
        },
        "ndcg_at_k": {
          "NDCG@1": 0.8666666666666667,
          "NDCG@3": 0.8557525756150571,
          "NDCG@5": 0.872425930434894,
          "NDCG@10": 0.9296068714733257
        },
        "map_score": 0.6991642530749673,
        "mrr_score": 0.7824444444444445,
        "query_count": 25,
        "relevance_analysis": {
          "total_queries_analyzed": 25,
          "total_relevant_items_found": 91,
          "exact_name_matches": 91,
          "average_relevance_per_query": 3.64
        }
      },
      "Exact word": {
        "precision_at_k": {
          "P@1": 0.0,
          "P@3": 0.0,
          "P@5": 0.0,
          "P@10": 0.0
        },
        "recall_at_k": {
          "R@1": 0.0,
          "R@3": 0.0,
          "R@5": 0.0,
          "R@10": 0.0
        },
        "f1_score_at_k": {
          "F1@1": 0.0,
          "F1@3": 0.0,
          "F1@5": 0.0,
          "F1@10": 0.0
        },
        "ndcg_at_k": {
          "NDCG@1": 0.0,
          "NDCG@3": 0.0,
          "NDCG@5": 0.0,
          "NDCG@10": 0.0
        },
        "map_score": 0.0,
        "mrr_score": 0.0,
        "query_count": 28,
        "relevance_analysis": {
          "total_queries_analyzed": 28,
          "total_relevant_items_found": 0,
          "exact_name_matches": 0,
          "average_relevance_per_query": 0.0
        }
      },
      "Description": {
        "precision_at_k": {
          "P@1": 0.23076923076923078,
          "P@3": 0.1794871794871795,
          "P@5": 0.13846153846153847,
          "P@10": 0.10427350427350428
        },
        "recall_at_k": {
          "R@1": 0.1330128205128205,
          "R@3": 0.2387820512820513,
          "R@5": 0.27403846153846156,
          "R@10": 0.34615384615384615
        },
        "f1_score_at_k": {
          "F1@1": 0.15598290598290598,
          "F1@3": 0.18764568764568765,
          "F1@5": 0.16786418709495632,
          "F1@10": 0.14475524475524476
        },
        "ndcg_at_k": {
          "NDCG@1": 0.6923076923076923,
          "NDCG@3": 0.6319464575642635,
          "NDCG@5": 0.6654641073757105,
          "NDCG@10": 0.7409132557946415
        },
        "map_score": 0.2635683760683761,
        "mrr_score": 0.26282051282051283,
        "query_count": 26,
        "relevance_analysis": {
          "total_queries_analyzed": 26,
          "total_relevant_items_found": 24,
          "exact_name_matches": 0,
          "average_relevance_per_query": 0.9230769230769231
        }
      },
      "Category + Attribute value": {
        "precision_at_k": {
          "P@1": 1.0,
          "P@3": 1.0,
          "P@5": 1.0,
          "P@10": 1.0
        },
        "recall_at_k": {
          "R@1": 0.11088788988788989,
          "R@3": 0.33266366966366967,
          "R@5": 0.5544394494394494,
          "R@10": 0.9328471528471528
        },
        "f1_score_at_k": {
          "F1@1": 0.19833710733710733,
          "F1@3": 0.49260768643121583,
          "F1@5": 0.7018482566624982,
          "F1@10": 0.9612414831545266
        },
        "ndcg_at_k": {
          "NDCG@1": 1.0,
          "NDCG@3": 1.0,
          "NDCG@5": 1.0,
          "NDCG@10": 1.0
        },
        "map_score": 0.9996054421768708,
        "mrr_score": 1.0,
        "query_count": 25,
        "relevance_analysis": {
          "total_queries_analyzed": 25,
          "total_relevant_items_found": 242,
          "exact_name_matches": 0,
          "average_relevance_per_query": 9.68
        }
      }
    }
  },
  "coverage_metrics": {
    "total_products_returned": 1389,
    "avg_products_per_query": 10.603053435114504,
    "avg_products_per_successful_query": 10.603053435114504,
    "median_products_per_query": 10,
    "zero_results_count": 870,
    "zero_results_rate": 86.91308691308691,
    "successful_executions": 131,
    "successful_execution_rate": 13.086913086913087,
    "max_products_single_query": 18,
    "min_products_single_query": 5
  },
  "detailed_analysis": {
    "question_type_distribution": {
      "Category": 200,
      "Category + Price range": 200,
      "Exact word": 201,
      "Description": 200,
      "Category + Attribute value": 200
    },
    "product_category_distribution": {
      "clothing": 250,
      "tent": 50,
      "footwear": 130,
      "gloves": 70,
      "bike": 96,
      "accessory": 150,
      "shorts_pants": 55,
      "backpack": 75,
      "hat": 70,
      "sleeping": 25,
      "helmet": 30
    }
  },
  "throttling_summary": {
    "total_requests": 1001,
    "successful_executions": 131,
    "throttled_requests": 870,
    "other_errors": 0,
    "api_failures": 0,
    "throttling_rate": 86.91308691308691,
    "success_rate": 13.086913086913087,
    "throttling_by_question_type": {
      "Exact word": 173,
      "Category": 173,
      "Category + Price range": 175,
      "Category + Attribute value": 175,
      "Description": 174
    },
    "throttling_by_category": {
      "tent": 41,
      "footwear": 118,
      "gloves": 58,
      "bike": 73,
      "clothing": 223,
      "accessory": 135,
      "shorts_pants": 39,
      "backpack": 63,
      "hat": 65,
      "sleeping": 25,
      "helmet": 30
    },
    "retry_after_analysis": {
      "retry_times_found": 870,
      "avg_retry_after_seconds": 23.883908045977012,
      "max_retry_after_seconds": 54,
      "min_retry_after_seconds": 1
    },
    "relevance_calculation_impact": {
      "requests_excluded_from_relevance": 870,
      "requests_included_in_relevance": 131,
      "exclusion_percentage": 86.91308691308691
    }
  },
  "agentic_specific_metrics": {
    "successful_executions_analyzed": 131,
    "activity_metrics": {
      "total_ai_planning_operations": 0,
      "avg_search_operations_per_query": 0,
      "avg_total_steps_per_query": 0,
      "search_operations_distribution": {}
    },
    "token_usage": {
      "avg_planning_input_tokens": 0,
      "avg_planning_output_tokens": 0,
      "total_planning_input_tokens": 0,
      "total_planning_output_tokens": 0
    },
    "knowledge_base_usage": {
      "avg_documents_referenced": 0,
      "max_documents_referenced": 0,
      "min_documents_referenced": 0,
      "references_distribution": {}
    }
  },
  "analysis_metadata": {
    "generated_at": "2025-08-15T11:03:29.309448",
    "analysis_type": "agentic_search_evaluation_with_improved_relevance",
    "relevance_scoring": "question_type_specific",
    "search_api_type": "agentic_search_api",
    "response_format": "formatted_text_with_ref_ids",
    "metrics_included": [
      "precision_at_k",
      "recall_at_k",
      "f1_score_at_k",
      "map_score",
      "ndcg_at_k",
      "mrr_score",
      "response_times",
      "coverage_metrics",
      "agentic_activity_metrics"
    ]
  }
}